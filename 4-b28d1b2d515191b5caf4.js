(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.linaria-cache/src/components/home/Home.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/SearchInput.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/SearchResults.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css":function(e,t,a){},"./src/components/home/Home.tsx":function(e,t,a){"use strict";a.r(t),function(e){var r,s=a("./node_modules/linaria/react.js"),o=a("./node_modules/react/index.js"),n=a.n(o),c=a("./src/contexts/StickersContext.tsx"),l=a("./src/hooks/use-query.ts"),i=a("./src/hooks/use-update-url.ts"),u=a("./src/components/general/ExternalLink.tsx"),d=a("./src/etc/constants.ts"),m=a("./src/components/home/SearchInput.tsx"),f=a("./src/components/home/SearchResults.tsx");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const b=Object(s.styled)("div")({name:"StyledHome",class:"s1kdyk3t"}),h=()=>{const{searchQuery:e,setSearchQuery:t}=n.a.useContext(c.b),a=Object(l.a)(),r=Object(i.a)();n.a.useEffect(()=>{const e=a[d.b]?a[d.b]:null;"string"==typeof e&&t(e)},[]),n.a.useEffect(()=>{r({query:{[d.b]:e||void 0}})},[e]);const s=n.a.useMemo(()=>n.a.createElement(u.a,{href:"https://support.signal.org/hc/en-us/articles/360031836512-Stickers",title:"Stickers - Signal Support"},"sticker packs"),[]),o=n.a.useMemo(()=>n.a.createElement(u.a,{href:"https://twitter.com/signalstickers",title:"Twitter"},"@signalstickers"),[]);return n.a.createElement(b,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 mt-4 mb-1 mb-md-3 pt-lg-2"},n.a.createElement("p",{className:"intro"},"Welcome to Signal Stickers, the unofficial directory for Signal ",s,". You can filter packs by title, author, or tags. Follow ",o," on Twitter to stay tuned for new packs!"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(m.a,null))),n.a.createElement(f.a,null))};p(h,"useContext{{\n    searchQuery,\n    setSearchQuery\n  }}\nuseQuery{query}\nuseUpdateUrl{updateUrl}\nuseEffect{}\nuseEffect{}\nuseMemo{stickerPackLink}\nuseMemo{twitterLink}",()=>[l.a,i.a]);const k=h;var g,v;t.default=k,a("./.linaria-cache/src/components/home/Home.linaria.css"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(b,"StyledHome","/home/travis/build/signalstickers/signalstickers/src/components/home/Home.tsx"),g.register(h,"HomeComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/Home.tsx"),g.register(k,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/Home.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)}.call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/home/SearchInput.tsx":function(e,t,a){"use strict";(function(e){var r,s=a("./node_modules/debounce-fn/index.js"),o=a.n(s),n=a("./node_modules/linaria/react.js"),c=a("./node_modules/react/index.js"),l=a.n(c),i=a("./node_modules/react-router-hash-link/lib/index.js"),u=a("./node_modules/react-icons/bs/index.esm.js"),d=a("./node_modules/react-icons/fa/index.esm.js"),m=a("./src/contexts/StickersContext.tsx");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const p=Object(n.styled)("div")({name:"SearchInput",class:"sooxe2f"}),b=Object(n.styled)("div")({name:"SearchHelp",class:"sbfo2dx"}),h=()=>{const{searcher:e,searchQuery:t,searchResults:a,setSearchQuery:r}=l.a.useContext(m.b),[s,n]=l.a.useState(""),c=l.a.useRef(null),f=["cute","privacy","meme","for children"],h=o()(e=>{r(e)},{wait:250});l.a.useEffect(()=>(h.cancel(),h(s),()=>{h.cancel()}),[h,s]),l.a.useEffect(()=>{t&&n(t)},[t]);const k=l.a.useCallback(e=>{const{value:t}=e.target;n(t)},[n]),g=l.a.useCallback(t=>{e&&t.currentTarget.textContent&&r(e.buildQueryString({attributeQueries:[{tag:t.currentTarget.textContent}]}))},[e,r]),v=l.a.useCallback(()=>{c.current&&(c.current.style.opacity="1",c.current.style.pointerEvents="initial")},[c]),y=l.a.useCallback(()=>{c.current&&(c.current.style.opacity="0",setTimeout(()=>{c.current&&(c.current.style.pointerEvents="none")},100))},[c]),S=l.a.useCallback(e=>{e.preventDefault(),n(""),r("")},[n,r]);l.a.useEffect(()=>{t&&n(t)},[t]),l.a.useEffect(()=>(h.cancel(),h(s),()=>{h.cancel()}),[h,s]);const x=l.a.useMemo(()=>f.map(e=>l.a.createElement("button",{type:"button",key:e,className:"badge badge-light border border-primary text-primary mr-1",onClick:g},e)),[f]);return l.a.createElement(p,{className:"form-group mb-4 mb-md-5"},l.a.createElement("div",{className:"input-group input-group-lg mb-1"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text text-primary bg-transparent"},l.a.createElement(u.i,null))),l.a.createElement("input",{type:"text",key:"search",className:"form-control border-left-0 border-right-0 px-0",onBlur:y,onChange:k,onFocus:v,value:s,title:"Search","aria-label":"search",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,spellCheck:"false"}),l.a.createElement(b,{ref:c},l.a.createElement(i.HashLink,{to:"/about#searching",title:"Search Help"},l.a.createElement(d.b,{className:"text-muted"}))),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"input-group-text btn text-danger bg-transparent border-left-0",title:"Clear Search Results",onClick:S},l.a.createElement(u.l,{className:"x-icon"})))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",null,l.a.createElement("small",null,"Lost? Why not start with these tags?"," "),l.a.createElement("br",{className:"d-inline d-md-none"}),x),l.a.createElement("div",{className:"text-muted"},l.a.createElement("small",null,(null==a?void 0:a.length)||0," results"))))};f(h,"useContext{{\n    searcher,\n    searchQuery,\n    searchResults,\n    setSearchQuery\n  }}\nuseState{[searchQueryInputValue, setSearchQueryInputValue]('')}\nuseRef{searchHelpRef}\nuseEffect{}\nuseEffect{}\nuseCallback{onSearchQueryInputChange}\nuseCallback{onTagClick}\nuseCallback{handleInputFocus}\nuseCallback{handleInputBlur}\nuseCallback{clearSearchResults}\nuseEffect{}\nuseEffect{}\nuseMemo{tagsFragment}");const k=h;var g,v;t.a=k,a("./.linaria-cache/src/components/home/SearchInput.linaria.css"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(p,"SearchInput","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx"),g.register(b,"SearchHelp","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx"),g.register(h,"SearchInputComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx"),g.register(k,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/home/SearchResults.tsx":function(e,t,a){"use strict";(function(e){var r,s=a("./node_modules/linaria/react.js"),o=a("./node_modules/react/index.js"),n=a.n(o),c=a("./node_modules/react-router-dom/esm/react-router-dom.js"),l=a("./node_modules/react-waypoint/es/index.js"),i=a("./node_modules/ramda/es/take.js"),u=a("./src/contexts/StickersContext.tsx"),d=a("./src/components/home/StickerPackPreviewCard.tsx");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const f=Object(s.styled)("div")({name:"StickerPackList",class:"soapbay"}),p=()=>{const{searchResults:e}=Object(o.useContext)(u.b),[t,a]=Object(o.useState)(0),[r,s]=Object(o.useState)([]),m=n.a.useCallback(()=>{if(r.length>=e.length)return;const o=t+64;a(o),s(i.a(o,e))},[t,e,r]);return n.a.useLayoutEffect(()=>{a(0),s([]),m()},[e]),n.a.createElement(f,{className:"row"},r.map(e=>n.a.createElement("div",{className:"col-6 col-md-4 col-lg-3 mb-4",key:e.item.meta.id},n.a.createElement(c.Link,{to:"/pack/"+e.item.meta.id},n.a.createElement(d.a,{stickerPack:e.item})))),n.a.createElement(l.a,{key:t,onEnter:m,bottomOffset:"-500px"}))};m(p,"useContext{{\n    searchResults\n  }}\nuseState{[cursor, setCursor](0)}\nuseState{[renderedSearchResults, setRenderedSearchResults]([])}\nuseCallback{loadMore}\nuseLayoutEffect{}");const b=p;var h,k;t.a=b,a("./.linaria-cache/src/components/home/SearchResults.linaria.css"),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(f,"StickerPackList","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx"),h.register(64,"PAGE_SIZE","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx"),h.register(p,"StickerPackListComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx"),h.register(b,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/home/StickerPackPreviewCard.tsx":function(e,t,a){"use strict";(function(e){var r,s=a("./node_modules/react/index.js"),o=a.n(s),n=a("./node_modules/linaria/react.js"),c=a("./node_modules/use-async-effect/index.js"),l=a.n(c),i=a("./src/lib/stickers.ts");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const d=Object(n.styled)("div")({name:"StickerPackPreviewCard",class:"s6bnemm",vars:{"s6bnemm-0":[e=>e.original?"block":"none"],"s6bnemm-1":[e=>e.animated?"block":"none"],"s6bnemm-2":[e=>e.nsfw?"blur(4px)":"none"]}}),m=e=>{const[t,a]=Object(s.useState)(),{meta:r,manifest:n}=e.stickerPack;l()(async()=>{try{if(void 0!==r.id){const e=await Object(i.a)(r.id,r.key,n.cover.id);a(e)}}catch(e){console.error("[StickerPackPreviewCard::Effect::GetCover] "+e.message)}},[r.id,r.key,n.cover.id]);const c=`${n.title}${r.nsfw?" (NSFW)":""}`;return o.a.createElement(d,{className:"card",original:r.original,animated:r.animated,nsfw:r.nsfw,"aria-label":c},t?o.a.createElement("img",{className:"card-img-top",src:t,alt:"Cover"}):o.a.createElement("div",{className:"card-img-top"}," "),o.a.createElement("div",{className:"card-header"},c))};u(m,"useState{[cover, setCover]}\nuseAsyncEffect{}",()=>[l.a]);const f=m;var p,b;t.a=f,a("./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(d,"StickerPackPreviewCard","/home/travis/build/signalstickers/signalstickers/src/components/home/StickerPackPreviewCard.tsx"),p.register(m,"StickerPackPreviewCardComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/StickerPackPreviewCard.tsx"),p.register(f,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/StickerPackPreviewCard.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/hooks/use-query.ts":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var r,s,o,n=a("./node_modules/query-string/index.js"),c=a.n(n),l=a("./node_modules/react-router/esm/react-router.js");function i(){return c.a.parse(Object(l.l)().search)}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(i,"useLocation{}",()=>[l.l]),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(i,"useQuery","/home/travis/build/signalstickers/signalstickers/src/hooks/use-query.ts"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/hooks/use-update-url.ts":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));var r,s,o,n=a("./node_modules/query-string/index.js"),c=a.n(n),l=a("./node_modules/ramda/es/mergeDeepRight.js"),i=a("./node_modules/react-router/esm/react-router.js");function u(){const e=Object(i.k)();return t=>{const a=c.a.parseUrl(e.location.pathname),r=c.a.stringifyUrl(l.a(a,t));e.replace(r)}}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useHistory{history}",()=>[i.k]),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(u,"useUpdateUrl","/home/travis/build/signalstickers/signalstickers/src/hooks/use-update-url.ts"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))}}]);
//# sourceMappingURL=4-b28d1b2d515191b5caf4.js.map